package fly4b.article.test;

import fnote.article.share.AuthShareServiceImpl;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

import javax.annotation.Resource;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNull;

/**
 * Created by qryc on 2017/10/2.
 */
//@RunWith(SpringJUnit4ClassRunner.class)
//@ContextConfiguration(locations = {"classpath:spring-config-article-share.xml"})
public class TestAuthShareService {
//    @Resource
//    private AuthShareServiceImpl authShareService;

//    @Test
    public void authCodeTest() throws Exception {
//        var idPin = IdPin.of(1L, "testPin");
//        assertNull(authShareService.getShareArticleInfo(idPin));
//        authShareService.shareArticle(1L, new FlyContext().setLoginUser(new LoginUser("testPin")));
//        String code = authShareService.getShareArticleInfo(idPin).getShareCode();
//        assertEquals(8, code.length());
//        String code2 = authShareService.getShareArticleInfo(idPin).getShareCode();
//        assertEquals(code, code2);
//        assertEquals(1, authShareService.getShareArticleInfo(code).getArticleHo().getId().intValue());

    }

//    public void setAuthShareService(AuthShareServiceImpl authShareService) {
//        this.authShareService = authShareService;
//    }
}
